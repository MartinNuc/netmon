<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Network Monitor</title>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1250">
<style type="text/css">
<!--
.normal {
	font-family: Arial, Helvetica, sans-serif;
	font-size: 12px;
}
body {
	background-color: #FFFF99;
}
.head2 {
	font-size: 18px;
	font-family: Arial, Helvetica, sans-serif;
}
.head1 {
	font-size: 24px;
	font-family: Arial, Helvetica, sans-serif;
	font-weight: bolder;
}
a:link {
	color: #CC0000;
	text-decoration: none;
}
a:visited {
	text-decoration: none;
	color: #CC9900;
}
a:hover {
	text-decoration: none;
	color: #0000CC;
}
a:active {
	text-decoration: none;
}
.code {
	font-family: "Courier New", Courier, mono;
	font-size: 12px;
}
.style3 {font-family: Arial, Helvetica, sans-serif; font-size: 12px; font-weight: bold; }
.style4 {font-family: "Courier New", Courier, mono}
-->
</style>
</head>

<body>
<table width="750" border="0" align="center" cellpadding="5" cellspacing="0">
  <tr>
    <td bgcolor="#FFFFCC"><div align="center" class="head2"><a name="top"></a>Network Monitor 0.7.0</div></td>
  </tr>
  <tr>
    <td>
      <ol>
        <li class="normal"><a href="#chap1">Popis programu</a></li>
        <li class="normal"><a href="#chap2">Pouití</a></li>
        <li class="normal"><a href="#chap3">Konfiguraèní soubor</a></li>
      
        <li class="normal"><a href="#chap4">Paralelní linky</a></li>
        <li class="normal"><a href="#chap5">Router s více rozhraními </a></li>
        <li class="normal"><a href="#chap6">Ampersand v XML </a></li>
        <li class="normal"><a href="#chap07">Køíení linek</a></li>
        <li class="normal"><a href="#chap08">Definice sdruenıch zaøízení</a></li>
        <li class="normal">Zobrazení zatíení linek (není podporováno ve verzi 0.7.0)<br>
        </li>
    </ol>    </td>
  </tr>
  <tr>
    <td><p class="normal"><strong><a name="chap1"></a>1) Popis programu </strong></p>
    <p align="justify" class="normal">Jedná se o konzolovou aplikaci, která má k dispozici topologii sítì. Tato struktura je vèetnì rùznıch nastavení uloená v souboru formátu XML (viz. kapitola <a href="#chap3">Konfiguraèní soubor</a>). Network Monitor (dále jen Netmon), naète tyto data do pamìti a poté testuje dostupnost jednotlivıch PC v síti pomocí funkce <em>ping</em>. Po dokonèení této operace bude mít kadé PC definovanı stav. Vıstupem programu je HTML stránka s obrázkem PNG, kde je nakreslena sí v aktuálním stavu. Vısledná stránka se vytváøí pomocí zadané šablony.</p>
    <p align="justify" class="normal"><strong>Co je nového  ve verzi 0.7.0</strong></p>
    <p align="justify" class="normal"><strong>-</strong> velikost vısledného obrázku je nyní dána poètem a velikostí buòek v horizontálním a vertikálním smìru <br>
      - pøi prvním spuštìní je vygenerován soubor s pøíponou .<em>con</em>, ve kterém jsou uloeny &quot;spojení&quot;. Pøi pøíštím spuštìní se ète z tohoto souboru. Pokud dojde ka jakékoliv zmìnì daného konfinguraèního souboru, je soubor <em>.con</em> generován novı (co chvilku trvá).<br>
      - linky jsou nyní vytváøeny zcela libovolnì (pøímé i nìkolikanásobnì lomené èáry apod.) <br>
      - poøadí textu na routerech je dáno poøadím vlastností &quot;name&quot;, &quot;ip&quot; a &quot;comment&quot; v konfiguraèním souboru <br>
      - nová grafika pro linky a routery (typ routeru má nyní styl &quot;shadow&quot; kterım lze zapnout stínování) <br>
      - linka má novı atribut &quot;underconst&quot; kterı linky oznaèí jako ve vıstabì èili modrou barvou <br>
      - pokud obsahuje router typ, kterı nebyl definován, je vypsána chyba a program se ukonèí
      <br>
      - pøedìlán systém paralelních linek <br>
      - sdruená zaøízení, viz.<a href="#chap08"> èást 8 </a><br>
      - podpora znaku ampersand v xml souboru, viz. <a href="#chap6">èást 6</a>      <br>
      - zmìny v konfiguraèním souboru jsou pospány v èásti <a href="#chap3">Konfiguraèní soubor</a>. </p>
    <p align="justify" class="normal">Zmìny jednotlivıch verzí jsou zapsány v souboru <em>changelog</em>. Pokud budete mít probémy s instalací, kontaktujte mì na <strong>ICQ</strong>: 93289181. </p>
    <p align="justify" class="normal"><strong>Ke stáhnutí (aktuální verze 0.7.0)</strong></p>
    <p align="justify" class="normal">Spustitelnı program pod Windows - <a href="download/winbin.zip">winbin.zip</a> (1.2 MB)<br>
      Zdrojové kódy zkompilovatelné pod VS.NET 2003 - <a href="download/winsrc.zip">winsrc.zip</a> (900 kb)<br>
      Zdrojové kódy pro GCC (Linux) - <a href="download/netmon_v0-6-8.tgz">netmon_v0-7-0.tgz</a> (200 kb) </p>
    <p align="justify" class="normal">Nutno podotknout, e zdrojové kdy jsou identické, jen jsou trochu jinak uspoøádané. Pod Linuxem je tøeba mít nainstalované knihovny <strong>Expat</strong> (XML Parser), <strong>GD</strong> (grafická knihovna) a <strong>Ping</strong> (program pinghost). </p>
    <p align="justify" class="normal">V balíèku najdete testovací konfiguraèní soubory <strong>config.xml</strong>. Náhled sítì:</p>
    <p align="justify" class="normal"><img src="img/result.png" width="350" height="300" border="1"> </p>
    <p align="justify" class="normal">Netmon je freeware. To znamená, e ho mùete šíøit a dál upravovat pod licencí GNU General Public License. 
    </p>    <p align="justify" class="normal"><a href="#top">Zpìt</a></p></td>
  </tr>
  <tr>
    <td><p class="normal"><strong><a name="chap2"></a>2) Pouití </strong></p>
      <p align="justify" class="normal">Nejprve je tøeba správnì vytvoøit datovı soubor s konfigurací sítì (viz. kapitola Konfigurace sítì). Dále je tøeba mít pøipraven zdrojovı soubor HTML stránky, kterı slouí jako šablona vıstupního souboru. </p>
      <p align="justify" class="normal">Program lze spustit z pøíkazové øádky pøíkazem:</p>
      <p align="justify" class="normal"><strong>C:\Nemon\Netmon.exe --v --config=configurace.xml</strong></p>
      <p align="justify" class="normal">Volitelné parametry:</p>
    <table width="505" border="1" cellpadding="3" cellspacing="0">
      <tr bgcolor="#CCCCFF" class="normal">
        <th width="161" scope="col">Název</th>
        <th width="326" scope="col">Vıznam</th>
      </tr>
      <tr class="normal">
        <td><p><strong>--v</strong></p>          </td>
        <td><em>Verbose.</em> Zobrazí podrobné informace v prùbìhu testování sítì.</td>
      </tr>
      <tr class="normal">
        <td><strong>--mainrouter=router</strong></td>
        <td>Pøetíí nastavení &quot;mainrouter&quot; v konfiguraèním souboru. </td>
      </tr>
      <tr class="normal">
        <td><strong>--config=file.xml</strong></td>
        <td>Specifikuje vlastní konfiguraèní soubor, jinak se pouije implicitnì soubor &quot;/opt/netmon/config.xml&quot;.</td>
      </tr>
      <tr class="normal">
        <td><strong>--t | --test </strong></td>
        <td>Netmon pouze zkontroluje konfiguraèní soubor a vrátí vısledek testu tzn. e netestuje sí ani negenuruje vıslednou mapu. </td>
      </tr>
      <tr class="normal">
        <td><strong>--sl</strong></td>
        <td>Potlaèí vykreslování linek mezi routery. </td>
      </tr>
      <tr class="normal">
        <td><strong>--help | --h </strong></td>
        <td>Zobrazí popis parametrù. </td>
      </tr>
    </table>    
    <p><span class="normal"><a href="#top">Zpìt</a></span></p></td>
  </tr>
  <tr>
    <td><p class="normal"><strong><a name="chap3"></a>3) Konfiguraèní soubor </strong></p>
      <p align="justify" class="normal">Data sítì jsou uloena ve formátu XML. V tomto souboru jsou uloeny tyto informace:</p>
      <ul>
        <li class="normal">nastavení chování programu</li>
        <li class="normal">cesty k potøebnım souborùm </li>
        <li class="normal">grafická podoba rùznıch typù zaøízení na síti</li>
        <li class="normal">seznam zaøízení</li>
        <li class="normal">seznam sdruenıch zaøízení </li>
        <li class="normal">seznam linek mezi nimi</li>
      </ul>
      <p class="normal"><strong>a) Nastavení chování programu</strong></p>
      <table width="529" border="1" cellpadding="3" cellspacing="0">
        <tr bgcolor="#00CCFF" class="normal">
          <th width="113" scope="col">Název tagu </th>
          <th width="398" scope="col">Vıznam</th>
          <th width="398" scope="col">Povinnı a vıchozí hodnota</th>
        </tr>
        <tr class="normal">
          <td class="code">horizontal_cells</td>
          <td>Poèet buòek møíky ve vodorovném smìru. </td>
          <td><div align="center">ano</div></td>
        </tr>
        <tr class="normal">
          <td class="code">vertical_cells</td>
          <td>Poèet buòek møíky ve svislém smìru. </td>
          <td><div align="center">ano</div></td>
        </tr>
        <tr class="normal">
          <td class="code">cell_width</td>
          <td>Šíøka jedné buòky v pixelech.</td>
          <td><div align="center">ne, 110 </div></td>
        </tr>
        <tr class="normal">
          <td class="code">cell_height</td>
          <td> Vıška jedné buòky v pixelech.</td>
          <td><div align="center">ne, 70 </div></td>
        </tr>
        <tr class="normal">
          <td class="code">deffont</td>
          <td>Definuje <strong>plnou</strong> cestu k TT fontu, kterı je pouit pøi generování vısledného obrázku. Pokud tento atribut není definován, pouijí se nativní fonty knihovny GD (a to i v pøípadì, e danı font není nalezen). </td>
          <td><div align="center">ne, pouije se vıchozí fonty knihovny GD </div></td>
        </tr>
        <tr class="normal">
          <td class="code">maxpingattempts</td>
          <td>Poèet pokusù pøi testování zaøízení na síti. Doporuèená hodnota tohoto atributu je 2. Nedostupné routery se tak zbyteènì netestují 3x. </td>
          <td><div align="center">ne, 3x </div></td>
        </tr>
        <tr class="normal">
          <td class="code">pingtimeout</td>
          <td>Maximální doba èekání na odpovìï v milisekundách. Záleí na typu sítì. Na rychlé metalické síti mùe bıt hodnota niší, druhı extrém je wifi, kde by hodnota nemìla bıt menší ne 2000 milisekund. </td>
          <td><div align="center">ne, 1000 ms </div></td>
        </tr>
        <tr class="normal">
          <td class="code">mainrouter</td>
          <td>Jméno hlavního routeru. Z toho routeru se pak provádí monitoring a toto jméno je i uvedeno ve vısledném HTML dokumentu. V šablonì je vloeno místo tagu %%MAINROUTER%%.</td>
          <td><div align="center">ne, musí bıt nastaven alespoò parametrem, jinak <em>netmon</em> skonèí </div></td>
        </tr>
      </table>      
      <br>      <table width="417" height="159" border="1" cellpadding="5" cellspacing="0" bgcolor="#FFFFFF">
        <tr>
          <td><span class="code">&lt;configuration&gt; <br>
&nbsp;&nbsp;&nbsp;&lt;!-- graphics options --&gt;<br>
&nbsp;&nbsp;&nbsp;&lt;imagesize&gt;770 530&lt;/imagesize&gt;<br>
&nbsp;&nbsp;&nbsp;&lt;deffont&gt;c:/windows/fonts/arial.ttf&lt;/deffont&gt;<br>
<br>
&nbsp;&nbsp;&nbsp;&lt;!-- ping options --&gt;<br>
&nbsp;&nbsp;&nbsp;&lt;maxpingattempts&gt;2&lt;/maxpingattempts&gt;<br>
&nbsp;&nbsp;&nbsp;&lt;pingtimeout&gt;2000&lt;/pingtimeout&gt;<br>
&nbsp;&nbsp;&nbsp;&lt;mainrouter&gt;YOUR_MAIN_ROUTER&lt;/mainrouter&gt;<br>
<br>
...pokraèuje dalším nastavením... 
</span></td>
        </tr>
      </table>
      <p class="normal"><strong>b) Cesty k potøebnım souborùm </strong></p>
      <table width="529" border="1" cellpadding="3" cellspacing="0">
        <tr bgcolor="#00CCFF" class="normal">
          <th width="85" scope="col">Název tagu </th>
          <th width="426" scope="col">Vıznam</th>
          <th width="426" scope="col">Povinnı a vıchozí hodnota</th>
        </tr>
        <tr class="normal">
          <td class="code">reshtmlpath</td>
          <td>Cesta a název souboru vısledné HTML stránky.</td>
          <td><div align="center">ne, &quot;index.htm&quot; </div></td>
        </tr>
        <tr class="normal">
          <td class="code">respngpath</td>
          <td>Cesta a název PNG obrázku se zobrazením stavu sítì. Tento odkaz je pak vloen do vısledného HTML dokumentu místo tagu %%SRCPIC%%.</td>
          <td><div align="center">ne, &quot;result.png&quot; </div></td>
        </tr>
        <tr class="normal">
          <td><span class="code">sourcepath</span></td>
          <td>Cesta a název šablony HTML stránky. Datum, obrázek, mapa, hlavní router a verze  pouívají speciální tagy: %%DATE%%, %%AREA_MAP%%, %%SRCPIC%%, %%MAINROUTER%% a %%VERSION%%. Tyto znaky jsou pøi generování nahrazeny správnımi hodnotami. Hlavní router je definován v konfiguraèním souboru.</td>
          <td><div align="center">ano</div></td>
        </tr>
        <tr class="normal">
          <td><span class="code">loadfile</span></td>
          <td>Cesta souboru, ve kterém jsou uloena data zatíení linek, AP a ethernetového segmentu. Struktura tohoto souboru je popsána dále. </td>
          <td><div align="center">ne, zobrazení zatíení bude ignorováno </div></td>
        </tr>
        <tr class="normal">
          <td class="style4"> appngpath</td>
          <td>Cesta k souboru antény u AP s jednou anténou. </td>
          <td><div align="center">ano</div></td>
        </tr>
        <tr class="normal">
          <td class="style4"> appng2path</td>
          <td>Cesta k souboru antény u AP se dvìma sektory. </td>
          <td><div align="center">ano</div></td>
        </tr>
        <tr class="normal">
          <td class="style4"> lanpngpath</td>
          <td>Cesta k souboru obrázku oznaèující ethernetovı segment. </td>
          <td><div align="center">ano</div></td>
        </tr>
      </table>
      <br>
      <table width="417" height="134" border="1" cellpadding="5" cellspacing="0" bgcolor="#FFFFFF">
        <tr>
          <td class="code">&nbsp;&nbsp;&lt;paths&gt;<br>
&nbsp;&nbsp;&nbsp;&lt;!-- result's paths --&gt;<br>
&nbsp;&nbsp;&nbsp;&lt;reshtmlpath&gt;result.html&lt;/reshtmlpath&gt;<br>
&nbsp;&nbsp;&nbsp;&lt;respngpath&gt;result.png&lt;/respngpath&gt;<br><br>
&nbsp;&nbsp;&nbsp;&lt;!-- source's paths --&gt;<br>
&nbsp;&nbsp;&nbsp;&lt;sourcepath&gt;source.html&lt;/sourcepath&gt;<br>
&nbsp;&nbsp;&nbsp;&lt;loadfile&gt;load.xml&lt;/loadfile&gt;<br>
&nbsp;&nbsp;&lt;/paths&gt;<br>
&lt;/configuration&gt;</td>
        </tr>
      </table>      
      <p class="style3">c) Sekce routertypes - typy zaøízení na sítí</p>
      <table width="568" border="1" cellpadding="3" cellspacing="0">
        <tr bgcolor="#00CCFF" class="normal">
          <th width="77" scope="col">Název tagu </th>
          <th width="374" scope="col">Vıznam</th>
          <th width="91" scope="col">Povinnı a vıchozí hodnota</th>
        </tr>
        <tr class="normal">
          <td class="code">rid</td>
          <td>Unikátní ID typu, pomocí kterého se na typ odkazujete. </td>
          <td>ano</td>
        </tr>
        <tr class="normal">
          <td class="code">dimension</td>
          <td>Rozmìr boxu zaøízení na vısledné mapì. </td>
          <td>ne, 68x38 </td>
        </tr>
        <tr class="normal">
          <td><span class="code">color</span></td>
          <td>Barva boxu na vısledné mapì. Formát je RGB: R G B. </td>
          <td>ne, èerná </td>
        </tr>
        <tr class="normal">
          <td><span class="code">information</span></td>
          <td><p>Další pøíznaky zaøízení: <strong>ip</strong>, <strong>location</strong>, <strong>name</strong>. Pokud jsou tyto pøíznaky pøítomny, na boxu se zobrazí pøíslušná informace. Kromì toho mùete definovat barvu a velikost popisku a to v následujícím formátu. Napø: <em>comment(R, G, B, S)</em>, kde R, G a B jsou barevné sloky a S je velikost v bodech (parametr S není povinnı). Pokud je S záporné, vybírají se nativní fonty knihovny GD v rozmezí 0 a -4. V kladnıch hodnotách se pouije TT font pokud je definován, v opaèném pøípadì se opìt vybere nativní font.<br>
            Pøíznak <strong>border</strong> zapne kolem boxu rámeèek. Parametry mají následující formát: (W, R, G, B), kde W je šíøka èáry rámeèku a R, G a B jsou barevné sloky.</p>          </td>
          <td>ne</td>
        </tr>
        <tr class="normal">
          <td><span class="code">shadow</span></td>
          <td>Pokud je tato hodnota <em>true</em>, nastaví pìknı stín u krabièek zaøízení. </td>
          <td>ne, false </td>
        </tr>
        <tr class="normal">
          <td><span class="code">switch</span></td>
          <td>Pokud je tento pøíznak nastaven na <em>true</em>, bude tato tøída zaøízení brána jako switch na síti a není moná urèit, zda-li takové zaøízení ije, tudí linky k takovému zaøízení budou vdy zelené.</td>
          <td>ne, false </td>
        </tr>
      </table>
      <br>
      <table width="601" height="155" border="1" cellpadding="5" cellspacing="0" bgcolor="#FFFFFF">
        <tr>
          <td width="587" height="153" class="code"><span class="code">&lt;routertype&gt;<br>
&nbsp;&nbsp;&lt;rid&gt;0&lt;/rid&gt;<br>
&nbsp;&nbsp;&lt;!-- dimensions of the router box --&gt;<br>
&nbsp;&nbsp;&lt;dimension&gt;70 40&lt;/dimension&gt;<br>
&nbsp;&nbsp;&lt;!-- RGB format --&gt;<br>
&nbsp;&nbsp;&lt;color&gt;84 180 229&lt;/color&gt; <br>
&nbsp;&nbsp;&lt;!-- text on the box --&gt;<br>
&nbsp;&nbsp;&lt;information&gt;ip location(128,100,50) name(0,0,0,5) border(1,0,0,0)&lt;/information&gt;<br>
&lt;/routertype&gt; </span></td>
        </tr>
      </table>      
      <p class="style3">d) Sekce linetypes - typy linek na sítí</p>
      <table width="529" border="1" cellpadding="3" cellspacing="0">
        <tr bgcolor="#00CCFF" class="normal">
          <th width="85" scope="col">Název tagu </th>
          <th width="426" scope="col">Vıznam</th>
          <th width="426" scope="col">Povinnı a vıchozí hodnota</th>
        </tr>
        <tr class="normal">
          <td class="code">lid</td>
          <td>Unikátní ID typu, pomocí kterého se na typ odkazujete. </td>
          <td><div align="center">ano</div></td>
        </tr>
        <tr class="normal">
          <td class="code">width</td>
          <td>Šíøka èáry v pixelech.</td>
          <td><div align="center">ne, 3 </div></td>
        </tr>
        <tr class="normal">
          <td><span class="code">linedesc</span></td>
          <td>Popisek, kterı se zobrazí jako tooltip na lince. </td>
          <td><div align="center">ne, prázdnı øetìzec</div></td>
        </tr>
      </table>
      <br>
      <table width="601" height="155" border="1" cellpadding="5" cellspacing="0" bgcolor="#FFFFFF">
        <tr>
          <td width="587" height="153" class="code">&lt;linetype&gt;<br>
&nbsp;&nbsp;&lt;lid&gt;0&lt;/lid&gt;
&nbsp;<br>
&nbsp;&nbsp;&lt;width&gt;2&lt;/width&gt;
&nbsp;&nbsp;<br>
&nbsp;&nbsp;&lt;linedesc&gt;100Mbit&lt;/linedesc&gt; <br>
&lt;/linetype&gt; </td>
        </tr>
      </table>      
      <p class="normal"><strong>e) Seznam zaøízení na síti </strong></p>
      <table width="529" border="1" cellpadding="3" cellspacing="0">
        <tr bgcolor="#00CCFF" class="normal">
          <th width="85" scope="col">Název tagu </th>
          <th width="426" scope="col">Vıznam</th>
          <th width="426" scope="col">Povinnı a vıchozí hodnota</th>
        </tr>
        <tr class="normal">
          <td class="code">name</td>
          <td>Název zaøízení, které se zobrazí na boxu. </td>
          <td><div align="center">ano</div></td>
        </tr>
        <tr class="normal">
          <td class="code">rtype</td>
          <td>ID typu routeru definované vıše v souboru. </td>
          <td><div align="center">ano</div></td>
        </tr>
        <tr class="normal">
          <td><span class="code">position</span></td>
          <td>Pozice na mapì v souøadnicích møíky. </td>
          <td><div align="center">ano</div></td>
        </tr>
        <tr class="normal">
          <td><span class="code">ip</span></td>
          <td>IP adresa, na kterou se zaøízení testuje. Tímto tagem nadefinujete vıchozí rozhraní. Tento tag mùete vynechat a vıchozí rozhraní nastavit v sekci <strong>interfaces</strong>. Popis v <a href="#chap5">èásti 5</a>.</td>
          <td><div align="center">ne</div></td>
        </tr>
        <tr class="normal">
          <td><span class="code">comment</span></td>
          <td><p>Dodateèná informace o zaøízení primárnì urèená pro umístìní. </p></td>
          <td><div align="center">ne, prázdnı øetìzec</div></td>
        </tr>
        <tr class="normal">
          <td><span class="code">routerurl</span></td>
          <td>Odkaz, kterı bude umístìn na ploše boxu zaøízení. </td>
          <td><div align="center">ne, prázdnı øetìzec</div></td>
        </tr>
        <tr class="normal">
          <td><span class="code">lansegment</span></td>
          <td>Parametr urèí, zda-li je zaøízení obsahuje LAN rozhraní a nakreslí znaèku vedle boxu. Mùe nabıvat <em>true</em> nebo <em>false</em> hodnot. </td>
          <td><div align="center">ne, false </div></td>
        </tr>
        <tr class="normal">
          <td><span class="code">lanurl</span></td>
          <td>Odkaz, kterı bude umístìn na znaèku LAN rozhraní v pøípadì, e pøedchozí parametr je <em>true</em>. </td>
          <td><div align="center">ne, prázdnı øetìzec</div></td>
        </tr>
        <tr class="normal">
          <td class="style4">accesspointtype</td>
          <td>Parametr urèí, zda-li je zaøízení je AP a nakreslí znaèku vedle boxu. Mùe nabıvat <em>0</em> pro router bez AP, 1 pro AP s jednou anténou a 2 pro AP se dvìma sektory. </td>
          <td><div align="center">ne, 0 </div></td>
        </tr>
        <tr class="normal">
          <td><span class="code">apurl</span></td>
          <td>Odkaz, kterı bude umístìn na znaèku AP rozhraní v pøípadì, e pøedchozí parametr je <em>true</em>. </td>
          <td><div align="center">ne, prázdnı øetìzec</div></td>
        </tr>
        <tr class="normal">
          <td><span class="style4">underconst</span></td>
          <td>Tento tag nastavenı na <em>true</em> zpùsobí, e danı router se bude pokládat explicitnì za mimo provoz a všechny linky k nìmu vedoucí pùjdou do modra. </td>
          <td><div align="center">ne, false </div></td>
        </tr>
        <tr class="normal">
          <td><span class="code">essid</span></td>
          <td>ID sítì, tento øetìzec bude umístìn na znaèku AP. </td>
          <td><div align="center">ne, prázdnı øetìzec</div></td>
        </tr>
        <tr class="normal">
          <td><span class="code">ap2url</span></td>
          <td>Platí pouze u AP se dvìma sektory. Definuje odkaz na druhı sektor. </td>
          <td><div align="center">ne, prázdnı øetìzec</div></td>
        </tr>
        <tr class="normal">
          <td><span class="code">essid</span>2</td>
          <td>Platí pouze u AP se dvìma sektory. Definuje ESSID druhého sektoru.</td>
          <td><div align="center">ne, prázdnı øetìzec</div></td>
        </tr>
        <tr class="normal">
          <td class="code">interfaces</td>
          <td>umoòuje definovat více rozhraní, podrobnı popis je v <a href="#chap5">èásti 5 </a></td>
          <td><div align="center">ne, prázdnı øetìzec</div></td>
        </tr>
      </table>
      <p class="normal">Kromì tìchto atributù má kadé zaøízení definováno unikátní ID v rámci konfiguraèního souboru. Pomocí tohoto ID se na router mùeme odkazovat z definice linky (viz. dále). Toto ID je pøímo v tagu <strong>router</strong> jako <strong>routerID</strong>. </p>
      <table width="601" height="155" border="1" cellpadding="5" cellspacing="0" bgcolor="#FFFFFF">
        <tr>
          <td width="587" height="153" class="code">&lt;router routerID=&quot;JMENOZARIZENI&quot;&gt;<br>
&nbsp;&nbsp;&lt;name&gt;JMENOZARIZENI&lt;/name&gt;<br>
 &nbsp;&nbsp;&lt;rtype&gt;2&lt;/rtype&gt;<br>
&nbsp;&nbsp;&lt;ip&gt;10.26.128.41&lt;/ip&gt;<br>
&nbsp;&nbsp;&lt;location&gt;LOKACE&lt;/location&gt;<br>
&nbsp;&nbsp;&lt;routerurl&gt;http://www.apweb.cz/&lt;/routerurl&gt;
&nbsp;&nbsp;
&nbsp;&nbsp;<br>
&nbsp;&nbsp;&lt;position&gt;35 117&lt;/position&gt;<br>
&nbsp;&nbsp;&lt;lansegment&gt;true&lt;/lansegment&gt;<br>
&nbsp;&nbsp;&lt;lanurl&gt;&lt;/lanurl&gt;<br>
&nbsp;&nbsp;&lt;<span class="style4">accesspointtype</span>&gt;1&lt;/accesspoint&gt;<br>
&nbsp;&nbsp;&lt;apurl&gt;&lt;/apurl&gt;<br>
 &nbsp;&nbsp;&lt;essid&gt;ESSID AP&lt;/essid&gt;
&nbsp;&nbsp;<br>
&lt;/router&gt;</td>
        </tr>
      </table>      
      <p class="normal"><strong>f) Seznam linek mezi zaøízeními</strong></p>
      <table width="529" border="1" cellpadding="3" cellspacing="0">
        <tr bgcolor="#00CCFF" class="normal">
          <th width="85" scope="col">Název tagu </th>
          <th width="426" scope="col">Vıznam</th>
          <th width="426" scope="col">Povinnı a vıchozí hodnota</th>
        </tr>
        <tr class="normal">
          <td class="code">ltype</td>
          <td><p>ID linky, linky se definují pomocí tagu linetype (viz. vıše). </p>          
          </td>
          <td><div align="center">ano</div></td>
        </tr>
        <tr class="normal">
          <td class="code">lineurl</td>
          <td>Odkaz, kterı je umístìn na lince. Mùe odkazovat tøeba na statistiky apod. </td>
          <td><div align="center">ne, prázdnı øetìzec </div></td>
        </tr>
        <tr class="normal">
          <td><span class="style4">ltitle</span></td>
          <td>Titulek, kterı je zobrazen na lince. Pokud není tento parametr zadán, nastaví se implicitní titulek (viz. tabulka vıše). </td>
          <td><div align="center">ne, prázdnı øetìzec </div></td>
        </tr>
        <tr class="normal">
          <td class="style4">underconst</td>
          <td>Tento pøíznak (hodnota true) zaruèí, e linka bude explicitnì modrá. Mùe napøíklad vyjadøovat, stav trvale linky mimo provoz nebo ve vıstavbì. </td>
          <td><div align="center">ne, false </div></td>
        </tr>
      </table>
      <p class="normal">Linka obsahuje atributy, kterımi se odkazuje na zaøízení, které spojuje. Tyto ID jsou definovány vıše u zaøízení. ID je pøímo u tagu <strong>line</strong> jako <strong>connection</strong> ve formátu &quot;ROUTER1_ID ROUTER2_ID&quot;.</p>
      <table width="416" height="100 border=" border="1"" cellpadding="5" cellspacing="0" bgcolor="#FFFFFF"1>
        <tr>
          <td width="399" height="100" class="code">&lt;line connection=&quot;ROUTER1 ROUTER2&quot;&gt;<br>
&nbsp;&nbsp;&lt;ltype&gt;1&lt;/ltype&gt;<br>
&nbsp;&nbsp;&lt;<span class="style4">ltitle</span>&gt;1&lt;/<span class="style4">ltitle</span>&gt;<br>
&nbsp;&nbsp;&lt;lineurl&gt;http://router1/stats/wlan1.htm&lt;/lineurl&gt;<br>
&nbsp;&nbsp;&lt;underconst&gt;true&lt;/underconst&gt;<br>
&lt;/line&gt;</td>
        </tr>
      </table>      
      <p class="normal">O tom jak linku pøipojit na konkrétní interface je pojednáno v <a href="#chap5">èásti 5</a>. </p>      <p class="normal"><a href="#top">Zpìt</a></p>      </td>
  </tr>
  <tr>
    <td><p class="normal"><strong><a name="chap4" id="chap4"></a>4) Paralelní linky </strong></p>
    <p class="normal">Netmon umoòuje definovat více linek mezi dvìma routery. V tomto pøípadì musí bıt obì linky v konfiguraèním soubory  za sebou.</p>
    <p class="normal">Pøíklad:</p>
    <table width="416" height="100 border=" border="1"" cellpadding="5" cellspacing="0" bgcolor="#FFFFFF"1>
      <tr>
        <td width="399" height="100" class="code">...<br>          &lt;line connection=&quot;ROUTER1 ROUTER2&quot;&gt;<br>
&nbsp;&nbsp;&lt;ltype&gt;1&lt;/ltype&gt;<br>
&nbsp;&nbsp;&lt;<span class="style4">ltitle</span>&gt;1&lt;/<span class="style4">ltitle</span>&gt;<br>
&nbsp;&nbsp;&lt;lineurl&gt;http://10.26.128.5/stats/wlan1.htm&lt;/lineurl&gt;<br>
&lt;/line&gt;<br>
...<br>
&lt;line connection=&quot;ROUTER1 ROUTER2&quot;&gt;<br>
&nbsp;&nbsp;&lt;ltype&gt;1&lt;/ltype&gt;<br>
&nbsp;&nbsp;&lt;<span class="style4">ltitle</span>&gt;2&lt;/<span class="style4">ltitle</span>&gt;<br>
&nbsp;&nbsp;&lt;lineurl&gt;http://10.26.128.5/stats/wlan2.htm&lt;/lineurl&gt;<br>
&lt;/line&gt;<br>
...</td>
      </tr>
    </table>    
    <p class="normal">V tomto pøípadì se natáhnou mezi routery ROUTER1 a 2 dvì linky. Souèasná verze podporuje a dvì paralelní linky. Definicie linek ji nemusí bıt IHNED za sebou jako v pøedchozí verzi a ani nezáleí na poøadí, duleité je, aby obì linky mìly stejné názvy routerù (vèetnì poøadí). </p>
    <p class="normal"><a href="#top">Zpìt</a></p></td>
  </tr>
  <tr>
    <td><p class="normal"><strong><a name="chap5" id="chap5"></a>5) Router s více rozhraními</strong></p>
    <p class="normal">Router mùe mít nyní více síovıch rozhraní, které jsou pouity u linek (viz. dále <strong></strong>). Obecnì se rozhraní definuje takto:</p>
    <table width="601" height="155" border="1" cellpadding="5" cellspacing="0" bgcolor="#FFFFFF">
      <tr>
        <td width="587" height="153" class="code"><p>&lt;router routerID=&quot;JMENOZARIZENI&quot;&gt;<br>
&nbsp;&nbsp;...<br>
&nbsp;&nbsp;&lt;interfaces&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;interface&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name&gt;eth0&lt;/name&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ip&gt;48.2.1.8&lt;/ip&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/interface&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...dalsi rozhrani... <br>
&nbsp;&nbsp;&lt;/interfaces&gt;<br>
&nbsp;&nbsp;...<br>
&lt;/router&gt;</p></td>
      </tr>
    </table>
    <p align="justify" class="normal">Takto jsme definovali rozhraní <strong>eth0</strong> s poadovanou IP adresou. Aby konfiguraèní soubor byl zpìtnì kompatibilní, umoòuje nechat tag IP i vnì tagu <strong>interfaces</strong> (prostì tak jak to bylo). V tomto pøípadì se vytvoøí <strong>default</strong> rozhraní (bezejmenné). Toto rozhraní se vytvoøí i tak, e pøi definici nového rozhraní vynecháte jméno (èili tag <strong>name</strong>). Default rozhraní je dùleité pokud nechcete explicitnì vyjadøovat na které rozhraní je linka pøipojena. Z toho plyne, e starı konfiguraèní soubor bude fungovat beze zmìn tak, e kadı router bude mít jedno default rozhraní a linky spojí právì tyto rozhraní. </p>
    <p class="normal">Router, na kterı je linka pøipojena, nyní mùe mít více rozhraní. K tìm se pøistupuje pøes operátor &quot;:&quot; (dvojteèka). Napøíklad:</p>
    <table width="416" height="100 border=" border="1"" cellpadding="5" cellspacing="0" bgcolor="#FFFFFF"1>
      <tr>
        <td width="399" height="100" class="code">&lt;line connection=&quot;ROUTER1:eth0 ROUTER2:eth1&quot;&gt;<br>
&nbsp;&nbsp;&lt;ltype&gt;1&lt;/ltype&gt;<br>
&nbsp;&nbsp;&lt;<span class="style4">ltitle</span>&gt;1&lt;/<span class="style4">ltitle</span>&gt;<br>
&nbsp;&nbsp;&lt;lineurl&gt;http://router1/stats/wlan1.htm&lt;/lineurl&gt;<br>
&lt;/line&gt;</td>
      </tr>
    </table>
    <p class="normal">Pøedpoklad je, e router <strong>ROUTER1</strong> má rozhraní <strong>eth0</strong> a <strong>ROUTER2</strong> rozhraní <strong>eth1</strong>. Pokud neuvedete ádné rozhraní, pouije se default rozhraní. Díky tomu je konfiguraèní soubor zpìtnì kompatibilní a nemusíte všechny rozhraní explicitnì pojmenovat.</p>
    <p class="normal">Pro kontrolu je dobré pouít parametr <em>verbose</em> (--v), zde je toti vidìt které rozhraní se testuje. </p>
    <p class="normal"><strong>Zobrazení IP adresy na routeru</strong><br>
      Pokud má router definovanı default rozhraní, zobrazí se jeho IP (samozøejmì pokud je povoleno), v opaèném pøípadì se zobrazí IP jeho prvního rozhraní.</p>
    <p class="normal"><strong>Chybové stavy: </strong></p>
    <p class="normal">Pokud  konfigurátor pøipojí linku na rozhraní, které není definované v tagu <strong>router</strong>, program vypíše chybu a skonèí. <br>
        <br>
  Pokud se pokusí pøipojit na default rozhraní a toto rozhraní danı router nemá (èili všechna jeho rozhraní mají jména a vnìjší tag ip není pouit), program vypíše varování a linku pøipojí na první definované rozhraní (to pojmenované).</p>
    <p class="normal"><a href="#top">Zpìt</a></p></td>
  </tr>
  <tr>
    <td><p class="normal"><strong><a name="chap6" id="chap6"></a>6) Ampersand v XML souboru</strong></p>
    <p class="normal">Protoe XML parser pouitı v netmonu si z neznámıch dùvodù neporadí se znakem ampersand (&amp;) a to ani ve formì konstanty, pouil jsem speciální sekvenci &quot;<strong>;amp</strong>&quot;, která je pøi parsingu nahrazena právì tímto znakem. </p>
    <p class="normal">Pøíklad, do XML souboru zapište cestu v tomto formátu:</p>
    <table width="416" height="100 border=" border="1"" cellpadding="5" cellspacing="0" bgcolor="#FFFFFF"1>
      <tr>
        <td width="399" height="100" class="code">&lt;line connection=&quot;ROUTER1:eth0 ROUTER2:eth1&quot;&gt;<br>
&nbsp;&nbsp;&lt;ltype&gt;1&lt;/ltype&gt;<br>
&nbsp;&nbsp;&lt;<span class="style4">ltitle</span>&gt;1&lt;/<span class="style4">ltitle</span>&gt;<br>
&nbsp;&nbsp;&lt;lineurl&gt;http://router1/stats/wlan1.htm?haf=1;ampmnau=2&lt;/lineurl&gt;
&lt;/line&gt;</td>
      </tr>
    </table>    
    <p class="normal">Vıše uvedená cesta bude v programu interpretována jako &quot;<span class="code">http://router1/stats/wlan1.htm?haf=1&amp;mnau=2</span>&quot;.<br>
      <br>
      <a href="#top">
    Zpìt</a></p></td>
  </tr>
  <tr>
    <td><p class="normal"><strong><a name="chap07" id="chap07"></a>7) Køíení linek </strong></p>
      <p class="normal">Bìhem hledání cest se mùe stát, e nìkteré linky pøekøíí ji inku existující. Algoritmus není neomylnı a pokud je alternativní cesta pøíliš sloitá, radìji zvolí køíení. </p>
    <p class="normal"><strong>Jak se toho zbavit?</strong><br>
      Nejlépe zmìnit poøadí linek v konfiguraèním souboru, aby se linka která køíí jinou linku, vypoèítavala døíve. Pak se s velkou pravdìpodností druhá linka pøepoèítá zcela jinak. </p>
    <p class="normal"><a href="#top">Zpìt</a></p></td>
  </tr>
  <tr>
    <td><p class="normal"><strong><a name="chap08" id="chap08"></a>8) Definice sdruenıch zaøízení </strong></p>
      <p class="normal">Netmon umoòuje barevnì odlišit skupinu zaøízení pomocí sdruování. Objekt pro sdruení se nachází v èásti <strong>clouds</strong> za definici zaøízení a má následující parametry:</p>
      <table width="529" border="1" cellpadding="3" cellspacing="0">
        <tr bgcolor="#00CCFF" class="normal">
          <th width="85" scope="col">Název tagu </th>
          <th width="426" scope="col">Vıznam</th>
          <th width="426" scope="col">Povinnı a vıchozí hodnota</th>
        </tr>
        <tr class="normal">
          <td class="code">cborder</td>
          <td><p>Barva okraje boxu ve formátu RGB. Pokud je tento tag vynechán, box je bez okraje. </p></td>
          <td><div align="center">ne, bez okraje </div></td>
        </tr>
        <tr class="normal">
          <td class="code">ccolor</td>
          <td>Barva boxu ve formátu RGB. </td>
          <td><div align="center">ne, lutá barva </div></td>
        </tr>
        <tr class="normal">
          <td><span class="style4">cedge</span></td>
          <td>Šíøka okraje boxu v pixelech. </td>
          <td><div align="center">ne, 7 pixelù </div></td>
        </tr>
      </table>      
          
      <p class="normal">Zaøízení, které spadají do daného boxu jsou definovány jako atribut routers a následuje seznam ID všech zaøízení.<br>
        <br>
      Pøíklad: </p>
      <table width="416" height="100 border=" border="1"" cellpadding="5" cellspacing="0" bgcolor="#FFFFFF"1>
        <tr>
          <td width="399" height="100" class="code">&lt;clouds&gt;<br>
&nbsp;&nbsp;&lt;cloud routers=&quot;ROUTER1 ROUTER2&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;cborder&gt;0 0 0&lt;/cborder&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;ccolor&gt;230 255 200&lt;/ccolor&gt; <br>
&nbsp;&nbsp;&lt;/cloud&gt;<br>
&nbsp;&nbsp;&lt;cloud routers=&quot;ROUTER3 ROUTER4&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;cborder&gt;0 0 0&lt;/cborder&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;ccolor&gt;190 240 255&lt;/ccolor&gt; <br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;cedge&gt;8&lt;/cedge&gt; <br>
&nbsp;&nbsp;&lt;/cloud&gt;<br>
&nbsp;&nbsp;&lt;cloud routers=&quot;ROUTER5 ROUTER6 ROUTER7&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;cborder&gt;0 0 0&lt;/cborder&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;ccolor&gt;255 240 190&lt;/ccolor&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;cedge&gt;7&lt;/cedge&gt; <br>
&nbsp;&nbsp;&lt;/cloud&gt; <br>
&lt;/clouds&gt;</td>
        </tr>
      </table>      
    <p class="normal"><a href="#top">Zpìt</a></p></td>
  </tr>
</table>
</body>
</html>
